# 示例：春节游戏广告活动测试计划

## 1. 需求拆解 (Requirement Analysis)
**目标**: 在春节期间（2月9日-2月15日），用户打开 微信小程序 首页展示全屏红包雨广告，点击红包可领取优惠券。

### 关键测试点
1.  **时间控制**: 仅在特定时间段展示。
2.  **动画性能**: 红包雨动画流畅，不卡顿，不导致 App 崩溃。
3.  **并发处理**: 大量用户同时点击领取，库存扣减准确。

## 2. 接口测试用例 (API Test Cases) - 领取红包接口 `/api/v1/redpacket/claim`

| 维度 | 测试点 | 预期结果 |
|------|--------|----------|
| **正向** | 用户在活动期内首次点击 | 返回 200，领取成功，库存-1 |
| **幂等** | 用户快速多次点击 | 仅第一次成功，后续返回“已领取”或忽略 |
| **边界** | 活动开始前1秒 / 结束后1秒点击 | 返回“活动未开始”或“已结束” |
| **并发** | 100个用户同时抢最后1个红包 | 仅1人成功，99人返回“已抢光”，库存不为负 |
| **权限** | 未登录用户调用接口 | 返回 401 Unauthorized |

## 3. 客户端埋点测试 (Client Tracking)
- **曝光**: 红包雨动画开始播放时，上报 `event: view_redpacket_rain`。
- **点击**: 点击任意红包时，上报 `event: click_redpacket`。
- **结果**: 领取结果弹窗展示时，上报 `event: view_redpacket_result`，参数 `status: success/fail`。
